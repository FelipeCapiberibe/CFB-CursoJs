<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>setTimeout e setInterval</title>
    <style>
        #div1{
            border: 1px solid black;
            width: 100px;
            height: 100px;
        }
    </style>
</head>
<body>
        <!-- <h1>Diferença entre setTimeout e setInterval.</h1>
        <h2>São funções para controle de tempo, controle de intervalo</h2>
    <ul>
        <li>setTimeout - Determino a função que vai ser chamada e um tempo para essa função, após esse tempo 
        ele chama a função executa e acaba
        </li>
    </ul>
    <ul>
        <li>setInterval - Tambem recebe uma função e um tempo de execução, porém a cada ciclo do tempo definido
        ele vai chamar a função callback.
        </li>
    </ul>
   <strong> <p>Pra cancelar um intervalo usamos a função ClearInterval!</p></strong> -->
   <div id="div1"></div> <br>
   <button id="PrimeiroBotao">Iniciar</button> 
   <button id="SegundoBotao">Parar</button>
   <script>

        var tempo;

       function mudaCor(){
           var obj=document.getElementById("div1");
           var r=Math.floor(Math.random()*255);
           var g=Math.floor(Math.random()*255);
           var b=Math.floor(Math.random()*255);
           obj.style.backgroundColor="rgb("+r+","+g+","+b+")";
       }

       function Iniciar(){
        tempo = setInterval(mudaCor, 1000); // Entre parenteses, primeiro a função que vai ser chamada (mudacor) e segundo o tempo que é 3000. 
       }
       function parar(){
           clearInterval(tempo);
       }
       
       function addEventos(){
        document.getElementById("PrimeiroBotao").addEventListener("click", Iniciar);
        document.getElementById("SegundoBotao").addEventListener("click", parar);
    
       }

       //    mudaCor();
       window.addEventListener("load", addEventos);
   </script>
</body>
</html>